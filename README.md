# Phone Booking

## Description

This is a React Native app that provides the posibility to create and store your Contacts on a Cloud Database using Amplify.

## Tools
In this project I have used a variety of tools as: 

- Expo to speedup the React Native development.
- Amplify AWS to create a GraphQL service with NoSQL database.
- @react-native-async-storage/async-storage to handle local storage.
- expo-router v2 to handle all related with navigation and routing.

## Components

- Stack to manage the navigation inside the app.
- FlatList to optimize the creation of multiple items.
- View, Text, Button as regular part of development on React Native.

## Testing

- jest is used to run the tests
- @testing-library/react-native to render react native components


## Folder Structure

- `amplify/` for all Amplify AWS related implementation
- `src/` contains types and config related with api generated by Amplify AWS
- `app/` is the route expo-router use as main to build the expo app
- `components/` this folder contains all the reusable components and hooks
- `constants/` used to store contants that required to be reuse

# How to build this repo?

## Prerequisites:
- Node.js v20.x or later
- npm v10.5.0 or later
- git v2.39.3 or later
- @aws-amplify/cli node library v12.11.1 or later (npm package)
 
## Amplify 

### Configure
In case you never configure amplify before use this command: 
``` 
    amplify configure
```
You can also follow this documentation(https://docs.amplify.aws/gen1/react-native/start/getting-started/installation/#configure-the-amplify-cli)


## Project

### Local Configuration:

Before start this application your local environment should be properly confugured, follow this instructions to configure expo in your local: 
https://docs.expo.dev/guides/local-app-development/

### Project first load:

After clone this repo open your terminal in the application folder and run: 
```
    npm install
```

After complete the instalation of all proyect dependencies run: 
```
    amplify push
```
This will create the project in Amplify AWS

## How to run for testing?
In order to run the application for testing or developmente purposes 

### Web
To run the application on the web browser you have to run the command: 
```
    npm run web
```

### Devices
The application can run in both digital or real devices

### Android
The application can run in android OS running the bellow command: 
```
    npm run android
```

### iOS
The incomming command will run the application on iOS devices:
```
    npm run web
```



## Create a Build 

### Preconditions:
- You might have installed eas-cli
- You might have an expo account

### Internal Distribution:

### Android 
To create an APK for internal distribution first you have to update the config of eas in eas.json
- developmentClient to true (default)
- distribution to internal
- android.buildType to apk
- android.gradleCommand to :app:assembleRelease, :app:assembleDebug or any other gradle command that produces .apk

Now run:

```
    eas build -p android --profile preview
```

### iOS:
For iOS is required to modify the eas.json file with: 
- ios.simulator value to true

Then run: 
```
    eas build -p ios --profile preview
```

### Productive Version

In this case you will need developer credentials on the store you want to deploy.

### Android
To ship a version to the Google Store with this project application you have to run: 

```
    eas build --platform android
```

### iOS
To deploy this into App Store you can use the following command:
```
    eas build --platform ios
```

### Both

Another alternative is to create both at the same time using this command:

```
    eas build --platform both
```


## Testing

To run the tests on the application run: 
```
    npm run test
```

## Further steps
- Generate a CI(Continuous Integration) to run validations of quality on every push.
- Use CD(Continuous Delivery) to reduce repetitive deploy tasks.
- Configure husky to run some validations on precommit or prepush.
- Create and configure prettier and eslint
- Create a suite of e2e test using tools as Cypress or  Playwright(Ideally using web version to avoid extra complexity).
- Increise test coverage.
- Improve design and look and feel.
- Develop a CONVENTIONS.md file to post all the conventions with developers.